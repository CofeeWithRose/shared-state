var TeleState=function(){function t(t,e){var a=this;this.value=t,this.reducer=e,this.setStateMap={},this.updatePlugins=[],this.dispatch=function(t){var e=a.value;a.value=a.reducer(a.value,t),a.handleUpdate(e,a.value)},this.setState=function(t){var e=a.value;a.value=t,a.handleUpdate(e,a.value)},this.apply=function(t){a.updatePlugins.push(t)}}return t.prototype.handleUpdate=function(t,e){this.handlePlugin(t,e),Object.values(this.setStateMap).forEach((function(t){return t(e)}))},t.prototype.handlePlugin=function(t,e){for(var a=0;a<this.updatePlugins.length;a++)try{this.updatePlugins[a](e,t)}catch(t){console.error(t)}},t}();export{TeleState};