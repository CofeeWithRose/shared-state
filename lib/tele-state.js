!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports"],e)}((function(e,t){"use strict";t.__esModule=!0,t.TeleState=void 0;var u=function(){function e(e,t){var u=this;this.value=e,this.reducer=t,this.setStateMap={},this.updatePlugins=[],this.dispatch=function(e){var t=u.value;u.value=u.reducer(u.value,e),u.handleUpdate(t,u.value)},this.setState=function(e){var t=u.value;u.value=e,u.handleUpdate(t,u.value)},this.apply=function(e){u.updatePlugins.push(e)}}return e.prototype.handleUpdate=function(e,t){this.handlePlugin(e,t),Object.values(this.setStateMap).forEach((function(e){return e(t)}))},e.prototype.handlePlugin=function(e,t){for(var u=0;u<this.updatePlugins.length;u++)try{this.updatePlugins[u](t,e)}catch(e){console.error(e)}},e}();t.TeleState=u}));